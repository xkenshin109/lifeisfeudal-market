CREATE TABLE [dbo].[Categories] (
    [Id] [bigint] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [Created] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Categories] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Configurations] (
    [Id] [bigint] NOT NULL IDENTITY,
    [Key] [nvarchar](max),
    [Value] [nvarchar](max),
    CONSTRAINT [PK_dbo.Configurations] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ItemQualities] (
    [Id] [bigint] NOT NULL IDENTITY,
    [Item_Id] [bigint] NOT NULL,
    [ItemQualityType_Id] [bigint] NOT NULL,
    [BuyActive] [bit] NOT NULL,
    [SellActive] [bit] NOT NULL,
    [Created] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.ItemQualities] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Item_Id] ON [dbo].[ItemQualities]([Item_Id])
CREATE INDEX [IX_ItemQualityType_Id] ON [dbo].[ItemQualities]([ItemQualityType_Id])
CREATE TABLE [dbo].[Items] (
    [Id] [bigint] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [Price] [int],
    [Category_Id] [bigint] NOT NULL,
    [SubCategory_Id] [bigint] NOT NULL,
    [Created] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.Items] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Category_Id] ON [dbo].[Items]([Category_Id])
CREATE INDEX [IX_SubCategory_Id] ON [dbo].[Items]([SubCategory_Id])
CREATE TABLE [dbo].[SubCategories] (
    [Id] [bigint] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    CONSTRAINT [PK_dbo.SubCategories] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ItemQualityTypes] (
    [Id] [bigint] NOT NULL IDENTITY,
    [Name] [nvarchar](max),
    [BuyMultiplier] [decimal](18, 2),
    [SellMultiplier] [decimal](18, 2),
    [Updated] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.ItemQualityTypes] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[OrderFormProducts] (
    [Id] [bigint] NOT NULL IDENTITY,
    [OrderForm_Id] [bigint] NOT NULL,
    [ItemQuality_Id] [bigint] NOT NULL,
    [Selling] [bit] NOT NULL,
    [Price] [int] NOT NULL,
    [Quantity] [int] NOT NULL,
    [Created] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.OrderFormProducts] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_OrderForm_Id] ON [dbo].[OrderFormProducts]([OrderForm_Id])
CREATE INDEX [IX_ItemQuality_Id] ON [dbo].[OrderFormProducts]([ItemQuality_Id])
CREATE TABLE [dbo].[OrderForms] (
    [Id] [bigint] NOT NULL IDENTITY,
    [PlayerName] [nvarchar](max),
    [OrderNumber] [nvarchar](max),
    [Created] [datetime] NOT NULL,
    CONSTRAINT [PK_dbo.OrderForms] PRIMARY KEY ([Id])
)
ALTER TABLE [dbo].[ItemQualities] ADD CONSTRAINT [FK_dbo.ItemQualities_dbo.Items_Item_Id] FOREIGN KEY ([Item_Id]) REFERENCES [dbo].[Items] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ItemQualities] ADD CONSTRAINT [FK_dbo.ItemQualities_dbo.ItemQualityTypes_ItemQualityType_Id] FOREIGN KEY ([ItemQualityType_Id]) REFERENCES [dbo].[ItemQualityTypes] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Items] ADD CONSTRAINT [FK_dbo.Items_dbo.Categories_Category_Id] FOREIGN KEY ([Category_Id]) REFERENCES [dbo].[Categories] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Items] ADD CONSTRAINT [FK_dbo.Items_dbo.SubCategories_SubCategory_Id] FOREIGN KEY ([SubCategory_Id]) REFERENCES [dbo].[SubCategories] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[OrderFormProducts] ADD CONSTRAINT [FK_dbo.OrderFormProducts_dbo.ItemQualities_ItemQuality_Id] FOREIGN KEY ([ItemQuality_Id]) REFERENCES [dbo].[ItemQualities] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[OrderFormProducts] ADD CONSTRAINT [FK_dbo.OrderFormProducts_dbo.OrderForms_OrderForm_Id] FOREIGN KEY ([OrderForm_Id]) REFERENCES [dbo].[OrderForms] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201808080157040_test', N'CoreManagement.Migrations.Configuration',  0x1F8B0800000000000400ED5D5B6FE3BA117E2FD0FF20E8A92DF6C449B638380DEC73B0EB6C8AA09B4BD7C941DF025AA21DA1BAB81215C428FACBCE437F52FF42495D791775B165678305160945CE0C871FC9992187F9DF6FFF9DFEF21AF8D60B8C132F0A67F6D9C9A96DC1D0895C2F5CCFEC14AD7EF8C9FEE5E7DFFF6EFAC50D5EAD5FCB7A1F493DDC324C66F633429B8BC924719E61009293C073E2288956E8C489820970A3C9F9E9E95F266767138849D89896654DBFA521F20298FD827F9D47A103372805FE4DE4423F29CAF1974546D5BA05014C36C081337B1EC5F00684600D031822DBFAE47B004BB180FECAB640184608202CE3C5630217288EC2F562830B80FFB0DD405C6F05FC0416B25FD4D54DBB717A4EBA31A91B96A49C344151D092E0D9C7422F13BE7927EDDA95DEB0E6BE600DA32DE975A63DAC3880E03A8AB7B6C533BB98FB31A9C82BF7241F8D93B2E5078BFDFEA10204C60DF9872BA43E4A63380B618A62E07FB0EED3A5EF397F83DB87E89F309C85A9EFD3626241F137A60017DDC7D106C668FB0DAE0AE1AF5DDB9AB0ED267CC3AA19D526EFD675887EFCB36DDD62E660E9C30A05940A160877EDAF308431EEAC7B0F1082714868C04C8F02778E17F9BFE4866187678F6DDD80D7AF305CA3E7998D7FB4AD2BEF15BA654921C163E8E1C9861BA138854D4CE63124C2957C2EF12F0F1EE12B748CA6339DD450D003240A57DE3A8D0B00B64609DDFC1D2A4A5E58969D23E557E0A743E3D11847D708067FC76B79A68BB628A21ABF6348CD0B6BE9A99961339142D5844C6F7A9FD3ED2707792F15F03E47910F41D89A10DECBFD6128755B31319D5BF0E2ADB3A19228CDB6BE413FFB983C7B9BDCF6A081FB9457BA8AA3E05BE4B39ACEBE3D2DA2347648EF2245850710AF216A27163596461232F5D5C2D21069929BAE2BEB42AB35A4DBE2F1BE6A2879EDC548B98F3D07527DFA78DE38490BF3B2F702B4489783D11A7EE5A8ED6FC5DC7CAA6BB0B3B1FA209D7FF5D7B68B463E5B3D98F45FD04AD6CA05AD94DC54366A2CD50A632A713AA3C120551B5DA1D75AC548D176C9A21ABFAF5CFB5CB9BA98B3F956D9C3A425D5DE87799FC32C35536FB07EBD8DEFC1B85ADFA1E305C0B7ADFB18FF5404C37EB2AD8503484F1BF73062B20E4FF571E3EED2E1BF8B5D185F457180D9BAA983DA439BA7F08E6D25AF4A5543FA6DFD4D268CDB6C9AF5F3B364465F4B12B847851EFB50D98DC35745332486083F059E9806B551A2AB271828DACA6DCDBC8A9899FC54758DF4359C1B65AFABF632B328B93A2F53EFEB937A0AFB600BE3BDECC0D970DCA6C1B2DE290F2C66AE9B4E05ACE54E53EFD9C43B520613CF64367D4A92C8F13269E91062E5B7B07DFF12BA96D6FDCCC7ACF4C3F0B015A68F8359CFEC3F09CA5411AC7A5B13AC5D2996E899CDCFB1BBF012FA10418BC40A8969350789035C7128B14E5CB6044F4B18937901FC391E3F3CD1BD108973D80B1D6F037C9DE85C23C3A94F84AAC8F35F2EE1068664D6EAC6C0842F130C1105A8F870DA6A52CE7442A1C90064B47FAC8585D465EF093599974FD1647CF783049CA403FBC29C643C4C58F361B8D190C744AF742891C7E659E455265D3B00CAA3647A501F06F26492EF0979B2F130625D1E8B1D04E4E8A0912944A4872D830351764C23E79247BC0E1D9E92FE8C8054C9D89982963F861D05BF5A4F56052D33B7B6C69618733287B191576C365BC6C7B04967F6006293F16B89E2034270ED7D19634A12D8D8117A254E9F84D3112057E8C818B815C6CD44083628BB07CCE6DE396E83700B1817627CF556F03AB982A90BFCCBA524BEF598C022C49514610F1E6584EC0222D6F3CB8E76EB8080E0610B58E5A8D037FAA494D81B830DE4EA25422E17B35C1BD052D1686C5C3B28724118A7D0B8531985867EE5E65403491EDA329AE242644A544B4D2043C198ED33755981AA23BDCDC0CFAAA6E852257A35CCC2C46C8A275124E891E6D743B677A63D67E0A1E8BC32E66116F568AF02599C83A2C2417E1045B09743E48A50BBE0664E38A7086AF9685088D4EF6E52EB008A60267AB34E943E626B2F71104DC91C4329E172B1EBAD3FFDF199A8407327A5BD9B42F554B2066BD468E498980ED0104AA4167403152AACE4B676F270EA132D6319ED369A2BCF452ACBABFA369DE4394645C174A248469ADE80CDC60BD754725251622D8ACCA41F16EDD376829CC6C44924D93B95B4152714C5600DB9AFC45273E1951727E81220B004E4386BEE064235CECE54580C2533C1941447B0B423CA26E4E7D276640E62559B61ADC52BDC315235EB2314377049538BE487011FC49263D379E4A741A87635D4ADF32350BA7D5E624EA13A73A4895485229DE984D381E087089A161C3B76ECCC469635EFFB8C2EE3077418627DFBDD8C7396874337CF0ACCDB1739363485A2E8604698DD677A0CB0669335185E6DEBDD0C6E7512C090501D0FE8E9F0C1599E6453F0564D9DCA98A18952C5E6B4E8A4199A185DFEE696B0DC8AEF09EC8E883E9EFDA8B89D4793288A5A00823ED16540A13BEA55D3E30F8919C8361C206BA43C0ED8B2DE780FF86AC20C0628D6B61E1BCCA36F99858B3BCCAE2973F0DBED9C720A638F926667A3AFC373BB1BFDA9DD0EA722CA7F33A75ADDB1A7C9558507834BD1A3EE014C217ADC1E99CD2476034DF6C486A6A33FCBD1C8C39D5C2ACCBBB6FB5B79B19E476956B8DFBDBBBE5A4F93A94BDFDCFE4A85888698257DA6C7BEE6057D7D9B010B55DE72969537B48549567E3852DC08B140BE4AC5BD8A0972B1BF6911873379AD880BCCE555484658F4E2B92428B7D82678953921154E16FFF2E7780323EF1A95153020BD154C509E7D609F9F9E9D738F1E1DCE03449324717D491C937E64467E13780F29144B6FED11C536E649B44C39CAE756CE237C01B1F30CE23F04E0F58F34A50EA90AC402413B7BDEE7CDA89F7A4EA797F69927735A50EAF42CCE9BD17E155263D9081758AE4317BECEEC7F67CD2EACEB7F3C152D3F58D99672619D5AFF19F0059B9682B0447AC924BC82B3F4D0002FE074A1B2E3054572ADFE88913CD832CEE4C266A2B6DC06C4274C5AA0996ADD0BC6F2B7545A08C212E825CB8E71ACCE4FFAFEE0DCF9558CEF5D71D28D407C11C26D7C11A21D13F9BB134373E1DEA1187A02EA6349C70C26D9A30F2DD650BAF95086526F23A9F7CEC23E39D1C5B0D16DB19D1E9BE84263C7BB922A75E1886783F8C440AF0556F28CC001F9DF5D33EEEBABC5FB4E8A67AF857648BDEE944DA239BFDC49C6DE5BCB9C676EA38F90D93E0E6AF407DFE301E7F872DFF79B8D2EBD7ADE3DC5B973F6F09EF383DF7EF67A9EF0305212F9A1A04A7FD9E3200076BC99E61D867647201393EF7AA508F785DB18E9B6DF474EF80819D9878532DD1588C3C0D88164708B0938FCB04A13B4B7DAF4ECFCAE00F64497111EFCDC03D564710A3CD8EC6C9111FB5DCA8DCB00374F866ECAEF9671D3A7C5C9982933C055E49BC9327E93409DF92A63A24FB4D5282C3792744ACB6BE815A7C8CBE4F98ACB87C058AC22E3DC98E8A766ADCF43D73213B9EC364F9D07049B97D694602BA47E1E5E22BA04F4C20DF1B1BA39709A79A3986AA35391D2747C49E4F45A23BD673EBE4AF69417DEA1330D469AEE8EF471657ACBFB328A3A5AA46F8B5733B1B147FDB9496C7626DEBA2641FEF864081DC6CCABEA5C87ABA8B4393989CA2ADC21C20D44C0C536E0A718792BE020FCD98149921D786557CC66F6976009DDEBF02E459B14E12EC360E933282356AB8E7F96A3CECA3CBDDB6426DA105DC0627AE4F0E32EFC9C7ABE5BC97D2539FC509020E670717044C6129103A4F5B6A2741B8586840AF55556FC030C363E2696DC850B406E47B597ED31815FE11A38DBF286AD9A48F340B06A9F5E7A601D83202968D4EDF1AF18C36EF0FAF3FF01B42061EE75750000 , N'6.2.0-61023')

